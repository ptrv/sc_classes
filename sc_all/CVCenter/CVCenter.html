<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="824.48">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 19.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #002fd7}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; min-height: 17.0px}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Monaco; min-height: 14.0px}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Monaco; color: #b42a27}
p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Monaco; color: #0026ad}
p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Monaco}
p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Monaco; color: #236b22}
span.s1 {color: #004dbf}
span.s2 {color: #000000}
span.s3 {color: #236b22}
span.s4 {color: #0026ad}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><b>CVCenter</b></p>
<p class="p2"><br></p>
<p class="p3"><b>inherits from: </b><a href="SC://Object"><span class="s1"><b>Object</b></span></a></p>
<p class="p4"><span class="s2"><b>dependencies: </b><a href="CVWidget.html"><b>CVWidget</b></a><b>, </b><a href="../../../quarks/Conductor/help/Conductor-Help/Conductor.html"><b>Conductor</b></a><b> (</b><a href="SC://Quarks"><b>Quarks</b></a><b>)</b></span></p>
<p class="p2"><br></p>
<p class="p3">CVCenter is a collection of <a href="../../../quarks/Conductor/help/Conductor-Help/CV.html"><span class="s1"><b>CV</b></span></a>s and a convenience GUI-class for their use in patterns (and other uses of a <b>CV</b>). <span class="Apple-converted-space"> </span></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p5"><b>Creation</b></p>
<p class="p6"><br></p>
<p class="p3"><b>*new(cvs, setUpArgs)</b></p>
<p class="p3"><i><span class="Apple-tab-span">	</span>There should be no need to call *new directly as other methods will do this internally.</i></p>
<p class="p3"><span class="Apple-tab-span">	</span><b>cvs</b> - a Dictionary, an IdentyDictionary or an Event, containing one or more CVs as key-value pair</p>
<p class="p3"><span class="Apple-tab-span">	</span><b>setUpArgs</b> - may be in the following form</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0 // for MIDI-sliders sending 0-127</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[1, mean] <span class="Apple-tab-span">	</span>// where mean is a mean value for the output of a MIDI-slider,<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// 1 stands for in-/decremental output (e.g. +/- 1)</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>more setup-options may be added at later point ...<span class="Apple-tab-span">	</span></p>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p3"><b>*setup_(mode, mean)</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>mode -<span class="Apple-converted-space"> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0: MIDI-output is 0-127</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>1: MIDI-output is a mean-value +/- in-/decrement. If no value for <i>mean</i> is given in the setup-array 64 is assumed to be the default value for <i>mean</i>.</p>
<p class="p3"><span class="Apple-tab-span">	</span>mean - default: 64</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>If no setup is provided explicitely for <b>CVCenter</b> by default it will be set to 0 - MIDI-sliders returning values from 0-127.</p>
<p class="p3"><span class="Apple-tab-span">	</span>By default a setup will be applied to all widgets within <b>CVCenter</b>. This is premliminary and may be improved at a later moment. It is not yet clear, if a setup should be possible on a per widget basis or for example per source-uid ...</p>
<p class="p2"><br></p>
<p class="p3"><b>*use(key, cv, value)</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>key - the key under which the CV-instance will be added to the CVCenter</p>
<p class="p3"><span class="Apple-tab-span">	</span>cv - an instance of CV</p>
<p class="p3"><span class="Apple-tab-span">	</span>value - the default output value. If not given the default value of the CV's Spec will be used</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>*use is primarily meant for using CVCenter in Patterns. It will automatically bring up the GUI if not already on the screen and add a widget for it. If the given key is already in use it will not overwrite the existing one (besides when overwrite is set to true). Also the value will be ignored as it rather seems to be desirable to keep the pattern-value.</p>
<p class="p3"><span class="Apple-tab-span">	</span>If no value for cv is provided a ControlSpec.new will be chosen. If no value for value is provided the default value for the given ConrolSpec will be taken.</p>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p3"><b>*put(key1, cv1, key2, cv2 ..., overwrite)</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>keys, cv - instances of CV at key 1-n</p>
<p class="p3"><span class="Apple-tab-span">	</span>overwrite - a boolean wether keys should overwrite existing keys. default: false.</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>Changes in the CVCenter done this way will immediately be reflected in the GUI.<span class="Apple-converted-space"> </span></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><b>*removeAt(key)</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>key - a key in the CVCenters's cvsList</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>Removes a CV from the CVCenter. It should be safe to remove a CV even if it's currently in use in some Pattern - *removeAt returns the last value the CV has been set to so parameter controlled by CV should just be set to this.</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><b>*removeAll(key1, key2 ...)</b></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>remove all CV-instances from CVCenter referenced by their key.</p>
<p class="p3"><i><span class="Apple-tab-span">	</span>If no arguments are given the all CVs referenced by CVCenter.cvsList will be removed!</i></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><b>*gui(key1, cv1, key2, cv2 ..., overwrite)</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>keys, cv - instances of CV at key 1-n</p>
<p class="p3"><span class="Apple-tab-span">	</span>overwrite - a boolean wether keys should overwrite existing keys. default: false.</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>Basically the same functionallity as *put - only the CVCenter will immediatly be displayed in a GUI.<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span>If keys that are already contained in CVCenter.cvsList are provided as arguments a warning will be issued. If overwrite is set to <i>true </i>key resp. cv will overwrite CV-instances at the given keys in CVCenter.cvsList.</p>
<p class="p3"><span class="Apple-tab-span">	</span>Keys (resp. the CV-instances added at the given key) that are not already in CVCenter.cvsList will be added to the CVCenter, other CV-instances already stored remain untouched.</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p5"><b>Example</b></p>
<p class="p7"><br></p>
<p class="p8">// put some CVs into CVCenter</p>
<p class="p9">CVCenter<span class="s2">.put(</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="s3">\test1</span>, <span class="s4">CV</span>(<span class="s3">\freq</span>.asSpec, 300),</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="s3">\test2</span>, <span class="s4">CV</span>.new.sp(0.5, 0.0, 1.0),</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="s3">\test3</span>, <span class="s4">CV</span>([30, 500].asSpec)</p>
<p class="p10">)</p>
<p class="p7"><br></p>
<p class="p8">// open the GUI</p>
<p class="p9">CVCenter<span class="s2">.gui</span></p>
<p class="p7"><br></p>
<p class="p8">// add some more CVs</p>
<p class="p8">// will immediatly be reflected in the GUI</p>
<p class="p9">CVCenter<span class="s2">.put(</span></p>
<p class="p8"><span class="s2"><span class="Apple-tab-span">	</span></span><span class="s3">\test1</span><span class="s2">, </span><span class="s4">CV</span><span class="s2">(</span><span class="s3">\pan</span><span class="s2">.asSpec), </span>// will be ignored - \test1 has already been added</p>
<p class="p11"><span class="s2"><span class="Apple-tab-span">	</span></span>\test4<span class="s2">, </span><span class="s4">CV</span><span class="s2">(</span>\boostcut<span class="s2">.asSpec)</span></p>
<p class="p10">)</p>
<p class="p7"><br></p>
<p class="p8">// calling .gui on the CVCenter again will not bring up another window</p>
<p class="p8">// if the GUI is closed it will be opened again</p>
<p class="p9">CVCenter<span class="s2">.gui</span></p>
<p class="p7"><br></p>
<p class="p8">// in a pattern</p>
<p class="p10">p = <span class="s4">Pbind</span>(</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="s3">\dur</span>, <span class="s4">Prand</span>([<span class="s4">Pn</span>(1/8, 4), <span class="s4">Pn</span>(1/4, 2)], <span class="s4">inf</span>),<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="s2"><span class="Apple-tab-span">	</span></span>// new keys will be added to CVCenter.cvsList and displayed in the GUI immediatly<span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="s3">\amp</span>, <span class="s4">CVCenter</span>.use(<span class="s3">\amp</span>, [0.0, 1.0].asSpec, 0.2),<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="s2"><span class="Apple-tab-span">	</span></span>// a CVCenter slot can be used in combination with other Patterns as well</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="s3">\freq</span>, <span class="s4">Prand</span>([64, 66, 67, 69, 71, 72].midicps, <span class="s4">inf</span>) + <span class="s4">CVCenter</span>.use(<span class="s3">\test4</span>, <span class="s3">\freq</span>.asSpec, 20)</p>
<p class="p10">).play</p>
<p class="p7"><br></p>
<p class="p8">// change the MIDI-setup - should be reflected in the GUI immediatly</p>
<p class="p10"><span class="s4">CVCenter</span>.setup_(1)</p>
<p class="p7"><br></p>
<p class="p8">// removing a CV-instance while a Pattern is playing<span class="Apple-converted-space"> </span></p>
<p class="p8">// should be safe since removeAt will return its last value</p>
<p class="p10"><span class="s4">CVCenter</span>.removeAt(<span class="s3">\test4</span>)</p>
<p class="p8"><span class="s4">CVCenter</span><span class="s2">.removeAll </span>// remove all elements from CVCenter if no keys are given</p>
<p class="p7"><br></p>
<p class="p8">// Synth-controls can also be set using a CVs .action_</p>
<p class="p8">// a newly instantiated CV can be used in any context later on</p>
<p class="p11"><span class="s2">a = </span><span class="s4">Synth</span><span class="s2">(</span>\default<span class="s2">)</span></p>
<p class="p10"><span class="s4">CVCenter</span>.use(<span class="s3">\freqCV</span>, <span class="s3">\freq</span>.asSpec).action_({ <span class="s4">|cv|</span> a.set(<span class="s3">\freq</span>, cv.value) })</p>
<p class="p2"><br></p>
<p class="p5"><b>about the GUI</b></p>
<p class="p6"><br></p>
<p class="p3">A CVCenter-GUI i constantly checking the state of the CVCenter it's representing. But not only changes to the internal structure should be displayed immediatly. It is also build in a way that it will regroup its widgets when the window gets resized - the user may prefer it as a horizonatl or vertical strip or a different configuration - as little as possible scrolling should be necessary to reach all widgets.<span class="Apple-converted-space"> </span></p>
</body>
</html>
